# Database (Neon)
DATABASE_URL=postgresql://user:password@host:5432/dbname?sslmode=require

# Supabase Authentication
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key

# Session
SESSION_SECRET=your-strong-session-secret-here

# ============================================================
# EPX PAYMENT PROCESSING - EXISTING HOSTED CHECKOUT
# ============================================================
# Production payment processing is handled by EPX Hosted Checkout service
EPX_PUBLIC_KEY=your_epx_public_key_here
EPX_TERMINAL_PROFILE_ID=your_terminal_profile_id_here
EPX_ENVIRONMENT=sandbox  # 'sandbox' or 'production'
EPX_WEBHOOK_SECRET=your_webhook_secret_here

# EPX Credentials (used for both Hosted Checkout and Server Post)
EPX_CUST_NBR=9001
EPX_DBA_NBR=2
EPX_MERCH_NBR=900300
EPX_TERMINAL_NBR=72
EPX_MAC=your_mac_key_here  # This is also called EPI-Key for Server Post

# ============================================================
# EPX SERVER POST API - NEW RECURRING BILLING (OPTIONAL)
# ============================================================
# These enable automatic recurring billing functionality
# Leave BILLING_SCHEDULER_ENABLED unset or false to keep current system unchanged

# Enable recurring billing scheduler (default: false)
# Set to 'true' ONLY after running migration: node run_epx_recurring_migration.mjs
BILLING_SCHEDULER_ENABLED=false

# EPX Server Post API URLs
EPX_SANDBOX_API_URL=https://api-sandbox.north.com
EPX_PRODUCTION_API_URL=https://api.north.com

# Token capture feature (default: false)
# Enables capturing BRIC tokens after successful Hosted Checkout payments
EPX_CAPTURE_TOKENS=false

# ============================================================
# OTHER CONFIGURATION
# ============================================================

# Mock Payment Provider (for testing only)
# Set to 'mock' during development/testing
PAYMENT_PROVIDER=mock

# Application
NODE_ENV=production
PORT=3000

# Frontend URL for CORS
VITE_PUBLIC_URL=https://enrollment.getmydpc.com

# Email (optional - for lead notifications)
# Lead form submissions will send email to info@mypremierplans.com
EMAIL_SERVICE=gmail  # or 'outlook', 'yahoo', etc.
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password  # Use app-specific password for Gmail
# Note: For Gmail, generate an app password at https://myaccount.google.com/apppasswords

# ============================================================
# EPX RECURRING BILLING SETUP NOTES
# ============================================================
#
# 1. Current system (Hosted Checkout) continues working without changes
# 
# 2. To enable recurring billing:
#    Step 1: Run database migration - node run_epx_recurring_migration.mjs
#    Step 2: Set BILLING_SCHEDULER_ENABLED=true
#    Step 3: Restart server
#
# 3. EPI-Id is auto-constructed: {EPX_CUST_NBR}.{EPX_DBA_NBR}.{EPX_MERCH_NBR}.{EPX_TERMINAL_NBR}
#    Example: 9001.2.900300.72
#
# 4. IMPORTANT: Contact EPX to whitelist your production IP before going live!
#
# ============================================================
