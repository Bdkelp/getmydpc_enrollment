// Look for files like: api.js, apiClient.js, config.js, utils/api.js
// Replace the baseURL configuration

// BEFORE (causing the issue):
const API_BASE_URL = 'https://enrollment.getmydpc.com';
// OR
const apiClient = axios.create({
  baseURL: 'https://enrollment.getmydpc.com',
});
// OR  
const baseURL = process.env.REACT_APP_API_URL || 'https://enrollment.getmydpc.com';

// AFTER (fixed):
const API_BASE_URL = process.env.REACT_APP_API_URL || 'https://getmydpcenrollment-production.up.railway.app';

// OR
const apiClient = axios.create({
  baseURL: process.env.REACT_APP_API_URL || 'https://getmydpcenrollment-production.up.railway.app',
  headers: {
    'Content-Type': 'application/json',
  },
});

// OR for Next.js
const API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'https://getmydpcenrollment-production.up.railway.app';

// OR for Vite
const API_BASE_URL = import.meta.env.VITE_API_URL || 'https://getmydpcenrollment-production.up.railway.app';

// Common API client patterns to look for and fix:

// Pattern 1: Direct fetch calls
// BEFORE:
fetch('/api/registration', { method: 'POST', ... })
// AFTER:  
fetch(`${process.env.REACT_APP_API_URL}/api/registration`, { method: 'POST', ... })

// Pattern 2: Axios instance
const api = axios.create({
  baseURL: process.env.REACT_APP_API_URL || 'https://getmydpcenrollment-production.up.railway.app',
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json',
  },
});

// Pattern 3: API utility functions
export const apiCall = async (endpoint, options = {}) => {
  const baseURL = process.env.REACT_APP_API_URL || 'https://getmydpcenrollment-production.up.railway.app';
  const url = `${baseURL}${endpoint}`;
  
  return fetch(url, {
    headers: {
      'Content-Type': 'application/json',
      ...options.headers,
    },
    ...options,
  });
};

// Pattern 4: Configuration object
export const config = {
  apiUrl: process.env.REACT_APP_API_URL || 'https://getmydpcenrollment-production.up.railway.app',
  supabaseUrl: process.env.NEXT_PUBLIC_SUPABASE_URL,
  supabaseKey: process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY,
};