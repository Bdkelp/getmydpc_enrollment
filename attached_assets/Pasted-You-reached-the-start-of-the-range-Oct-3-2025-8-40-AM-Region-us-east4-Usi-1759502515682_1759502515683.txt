You reached the start of the range
Oct 3, 2025, 8:40 AM
 
[Region: us-east4]
==============
Using Nixpacks
==============

context: 93rk-ot
╔════════════ Nixpacks v1.38.0 ════════════╗
║ setup      │ nodejs_18, npm-9_x, openssl ║
║──────────────────────────────────────────║
║ install    │ npm ci                      ║
║──────────────────────────────────────────║
║ build      │ npm run build:all           ║
║──────────────────────────────────────────║
║ start      │ npm start                   ║
╚══════════════════════════════════════════╝

internal
load build definition from Dockerfile
0ms

internal
load metadata for ghcr.io/railwayapp/nixpacks:ubuntu-1745885067
1s

internal
load .dockerignore
0ms

internal
load build context
0ms

stage-0
COPY .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix
526ms

stage-0
RUN nix-env -if .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix && nix-collect-garbage -d
46s
61 store paths deleted, 559.40 MiB freed

stage-0
COPY . /app/.
306ms

stage-0
RUN npm ci
10s
Run `npm audit` for details.

stage-0
COPY . /app/.
295ms

stage-0
RUN npm run build:all
1s
npm warn config production Use `--omit=dev` instead.
> rest-express@1.0.0 build:all
> npm ci && npm --prefix client ci && npm --prefix client run build && npm run build
npm warn config production Use `--omit=dev` instead.
npm warn EBADENGINE Unsupported engine {
npm warn EBADENGINE   package: '@neondatabase/serverless@1.0.1',
npm warn EBADENGINE   required: { node: '>=19.0.0' },
npm warn EBADENGINE   current: { node: 'v18.20.5', npm: '10.8.2' }
npm warn EBADENGINE }
npm warn EBADENGINE Unsupported engine {
npm warn EBADENGINE   package: 'vite@7.1.3',
npm warn EBADENGINE   required: { node: '^20.19.0 || >=22.12.0' },
npm warn EBADENGINE   current: { node: 'v18.20.5', npm: '10.8.2' }
npm warn EBADENGINE }
npm error code EBUSY
npm error syscall rmdir
npm error path /app/node_modules/.cache
npm error errno -16
npm error EBUSY: resource busy or locked, rmdir '/app/node_modules/.cache'
npm error A complete log of this run can be found in: /root/.npm/_logs/2025-10-03T14_41_08_636Z-debug-0.log
Dockerfile:24
-------------------
22 |     # build phase
23 |     COPY . /app/.
24 | >>> RUN --mount=type=cache,id=s/71c2d2a0-80c1-43d0-a2b8-1840c9990a2e-node_modules/cache,target=/app/node_modules/.cache npm run build:all
25 |
26 |
-------------------
ERROR: failed to build: failed to solve: process "/bin/bash -ol pipefail -c npm run build:all" did not complete successfully: exit code: 240
Docker build failed