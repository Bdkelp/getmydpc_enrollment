{"openapi":"3.0.0","info":{"title":"Server Functions","version":"1.0"},"servers":[{"url":"https://epi.epxuap.com"}],"paths":{"/refund":{"post":{"summary":"Refund by Transaction ID","tags":["voids & refunds"],"operationId":"post-refund","responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Custom-pay_Inline_response_200"},"examples":{"Success":{"value":{"data":{"authorization":"095573","response":"00","text":"APPROVAL 095573"},"errors":null,"reference":{"bric":"01234567890123456789","timestamp":"2021-01-20T06:38:17Z"}}}}}}},"400":{"description":"Invalid request"},"401":{"description":"Unauthorized: EPI-Id is required"},"403":{"description":"Forbidden: EPI-Id provided doesn’t have the right to perform the request"},"404":{"description":"Requested resource was not found"},"405":{"description":"HTTP method is not allowed"},"500":{"description":"Internal Server Error"}},"description":"This endpoint returns funds for a previously captured transaction. A single refund for the full amount of the original transaction, or numerous partial refunds can be performed with dollar amounts less than or equal to the total amount of the original capture being acted upon.","parameters":[{"$ref":"#/components/parameters/EPI-Id"},{"$ref":"#/components/parameters/EPI-Signature"},{"$ref":"#/components/parameters/business-reporting_Content-type"},{"$ref":"#/components/parameters/EPI-Trace"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Custom-pay_Body_7"},"examples":{"Valid Request":{"value":{"account":"0111111111111111","amount":127.99,"transaction":123}}}}}}}},"/refund/{bric}":{"parameters":[],"post":{"summary":"Refund by BRIC","tags":["voids & refunds"],"operationId":"post-refund-[bric]","responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Custom-pay_Inline_response_200"},"examples":{"Success":{"value":{"data":{"authorization":"709414","response":"00","text":"APPROVAL 709414"},"errors":null,"reference":{"bric":"01234567890123456789","timestamp":"2021-01-20T06:37:28Z"}}}}}}}},"description":"This endpoint uses a BRIC token (EPX Transaction Identifier) associated with a previous sale to return funds to an account. A single refund for the full amount of the original transaction, or numerous partial refunds can be performed with dollar amounts less than or equal to the total amount of the original sale.","parameters":[{"$ref":"#/components/parameters/EPI-Id"},{"$ref":"#/components/parameters/EPI-Signature"},{"$ref":"#/components/parameters/business-reporting_Content-type"},{"$ref":"#/components/parameters/EPI-Trace"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Custom-pay_Body_3"},"examples":{"Valid Request":{"value":{"amount":127.99,"transaction":123}}}}}}}},"/reverse/{bric}":{"post":{"summary":"Auth Reversal by BRIC","tags":["voids & refunds"],"operationId":"post-reverse-[bric]","responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Custom-pay_Inline_response_200"},"examples":{"Success":{"value":{"data":{"authorization":"016658","response":"00","text":"APPROVAL 016658"},"errors":null,"reference":{"bric":"01234567890123456789","timestamp":"2021-01-20T09:28:30Z"}}}}}}},"400":{"description":"Invalid request"},"401":{"description":"Unauthorized: EPI-Id is required"},"403":{"description":"Forbidden: EPI-Id provided doesn’t have the right to perform the request"},"404":{"description":"Requested resource was not found"},"405":{"description":"HTTP method is not allowed"},"500":{"description":"Internal Server Error"}},"description":"This endpoint reverses the authorization of funds on a credit card. This will release the funds that are being held at the issuing bank.","parameters":[{"$ref":"#/components/parameters/EPI-Id"},{"$ref":"#/components/parameters/EPI-Signature"},{"$ref":"#/components/parameters/business-reporting_Content-type"},{"$ref":"#/components/parameters/EPI-Trace"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Custom-pay_Body_12"},"examples":{"Valid Request":{"value":{"batchId":123,"transaction":123}}}}}}}},"/void/{bric}":{"put":{"summary":"Void","tags":["voids & refunds"],"operationId":"put-void[bric]","responses":{"200":{"description":"Successful request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Custom-pay_Inline_response_200_2"},"examples":{"Success":{"value":{"data":{"response":"00","text":"APPROVAL"},"errors":null,"reference":{"bric":"01234567890123456789","timestamp":"2021-01-20T06:44:17Z"}}}}}}},"400":{"description":"Invalid request"},"401":{"description":"Unauthorized: EPI-Id is required"},"403":{"description":"Forbidden: EPI-Id provided doesn’t have the right to perform the request"},"404":{"description":"Requested resource was not found"},"405":{"description":"HTTP method is not allowed"},"500":{"description":"Internal Server Error"}},"description":"This endpoint will stop an authorization, sale, capture, or refund transaction prior to settlement. If the transaction has already been settled, this function will no longer be available.","parameters":[{"$ref":"#/components/parameters/EPI-Id"},{"$ref":"#/components/parameters/EPI-Signature"},{"$ref":"#/components/parameters/business-reporting_Content-type"},{"$ref":"#/components/parameters/EPI-Trace"},{"$ref":"#/components/parameters/Bric"}]}},"/sale/{bric}":{"post":{"summary":"Tip Adjust","operationId":"post-sale-[bric]","tags":["transactions & batches"],"responses":{"200":{"description":"Successful Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Custom-pay_Inline_response_200_3"},"examples":{"Success":{"value":{"data":{"authorization":"016542","response":"00","text":"APPROVAL 016542"},"errors":null,"reference":{"bric":"01234567890123456789","timestamp":"2021-01-20T06:42:06Z"}}}}}}},"400":{"description":"Invalid Request"},"401":{"description":"Unauthorized: EPI-Id is required"},"403":{"description":"Forbidden: EPI-Id provided doesn’t have the right to perform the request"},"404":{"description":"Requested resource was not found"},"405":{"description":"HTTP method is not allowed"},"500":{"description":"Internal Server Error"}},"description":"This endpoint edits an open Auth-and-Capture transaction. The request requires the transaction's BRIC token (EPX Transaction Identifier) and can only be performed on an approved transaction that has not been voided, closed, or settled.","parameters":[{"$ref":"#/components/parameters/EPI-Id"},{"$ref":"#/components/parameters/EPI-Signature"},{"$ref":"#/components/parameters/Content-Type"},{"$ref":"#/components/parameters/EPI-Trace_2"},{"$ref":"#/components/parameters/Bric"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Custom-pay_Body_11"}}}}}},"/batch":{"put":{"summary":"Batch Close","operationId":"put-batch","tags":["transactions & batches"],"responses":{"200":{"description":"Request was successful","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Custom-pay_Inline_response_200_1"},"examples":{"Success":{"value":{"data":{"response":"00","text":"APPROVAL"},"errors":{},"reference":{"bric":"01234567890123456789","timestamp":"2021-01-20T06:46:10Z"}}}}}}},"400":{"description":"Invalid Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"405":{"description":"Method Not Allowed"},"500":{"description":"Internal Server Error"}},"description":"This endpoint closes all captured transactions.","parameters":[{"$ref":"#/components/parameters/EPI-Id"},{"$ref":"#/components/parameters/EPI-Signature"},{"$ref":"#/components/parameters/EPI-Trace"},{"$ref":"#/components/parameters/Content-Type"}]}}},"components":{"schemas":{"User":{"title":"User","type":"object","description":"","properties":{"id":{"type":"integer","description":"Unique identifier for the given user"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string","format":"email"},"dateOfBirth":{"type":"string","format":"date","example":"1997-10-31"},"emailVerified":{"type":"boolean","description":"Set to true if the user's email has been verified"},"createDate":{"type":"string","format":"date","description":"The date that the user was created"}},"required":["id","firstName","lastName","email","emailVerified"]},"Custom-pay_Account":{"title":"account","type":"string","description":"The account number to be acted on during the transaction","example":"0111111111111111","maxLength":30,"required":["account"]},"Custom-pay_Amount":{"type":"number","title":"amount","description":"Positive U.S. dollar amount of funds to be moved during the transaction. Decimal point required.\nShould include any reference field amount such as tip_amt or tax_amt.\nShould not include any cashback, convenience fee, or surcharge amounts. These will be added to the amount authorized and included in the auth_amount_requested tag","format":"float","example":11.12,"minimum":0.01},"Custom-pay_BatchId":{"type":"number","title":"batchId","description":"Unique number created by the user to identify a batch of transactions"},"Custom-pay_Body_12":{"type":"object","properties":{"batchId":{"$ref":"#/components/schemas/Custom-pay_BatchId"},"transaction":{"$ref":"#/components/schemas/Custom-pay_Transaction"}}},"Custom-pay_Body_3":{"type":"object","properties":{"amount":{"$ref":"#/components/schemas/Custom-pay_Amount"},"transaction":{"$ref":"#/components/schemas/Custom-pay_Transaction"}}},"Custom-pay_Body_7":{"type":"object","properties":{"amount":{"$ref":"#/components/schemas/Custom-pay_Amount"},"account":{"$ref":"#/components/schemas/Custom-pay_Account"},"transaction":{"$ref":"#/components/schemas/Custom-pay_Transaction"}}},"Custom-pay_Inline_response_200":{"type":"object","properties":{"reference":{"type":"object","properties":{"bric":{"type":"string"},"timestamp":{"type":"string"}}},"data":{"type":"object","properties":{"authorization":{"type":"string"},"response":{"type":"string"},"text":{"type":"string"}}},"errors":{}}},"Custom-pay_Inline_response_200_2":{"type":"object","properties":{"reference":{"type":"object","properties":{"bric":{"type":"string"},"timestamp":{"type":"string"}}},"data":{"type":"object","properties":{"response":{"type":"string"},"text":{"type":"string"}}},"errors":{}}},"Custom-pay_Transaction":{"title":"transaction","type":"integer","example":123,"description":"Unique user-defined code used to identify a transaction"},"Custom-pay_Amount_2":{"type":"number","title":"amount","description":"Positive U.S. dollar amount of funds to be moved during the transaction. Decimal point required.\nShould include any reference field amount such as tip_amt or tax_amt.\nShould not include any cashback, convenience fee, or surcharge amounts. These will be added to the amount authorized and included in the auth_amount_requested tag","format":"float","example":11.12,"minimum":0.01},"Custom-pay_Body_11":{"type":"object","properties":{"amount":{"$ref":"#/components/schemas/Custom-pay_Amount_2"},"tipAmount":{"$ref":"#/components/schemas/Custom-pay_TipAmount"}}},"Custom-pay_Inline_response_200_3":{"type":"object","properties":{"reference":{"type":"object","properties":{"bric":{"type":"string"},"timestamp":{"type":"string"}}},"data":{"type":"object","properties":{"authorization":{"type":"string"},"response":{"type":"string"},"text":{"type":"string"}}},"errors":{}}},"Custom-pay_Inline_response_200_1":{"type":"object","properties":{"reference":{"type":"object","description":"Data that can be used to identify a transaction","properties":{"bric":{"type":"string","example":"\"01234567890123456789\"","description":"Token auto-generated for each financial transaction"},"timestamp":{"type":"string","example":"\"2019-05-21T19:38:02Z\"","description":"Time of transaction processing"}}},"data":{"description":"Data provided related to the request. Properties returned vary by request","type":"object","properties":{"authorization":{"type":"string","example":"009835","description":"Auth code corresponding to the transaction"},"response":{"type":"string","example":"00","minLength":2,"maxLength":2,"description":"A successful response always returns 00"},"text":{"type":"string","example":"APPROVAL 009835","description":"Text varies by response"}}},"errors":{"type":"object","description":"Error codes and descriptions","properties":{"code":{"type":"integer","example":404,"description":"HTTP error response code"},"text":{"type":"string","example":"Requested resource was not found","description":"Description of the error"}}}}},"Custom-pay_TipAmount":{"type":"number","title":"tipAmount","example":5.25,"format":"float","description":"Reference field that contains the tip amount which is included in the amount of the transaction. This field does not get added to the Amount field during the transaction, it is only referencing the tip amount already included","maximum":13}},"parameters":{"business-reporting_Content-type":{"name":"content-type","in":"header","required":true,"schema":{"type":"string"},"description":"application/json"},"EPI-Id":{"name":"EPI-Id","in":"header","required":true,"schema":{"type":"string","example":"111-222-333-444"},"description":"Merchant's unique 4-part key, which is generated after boarding with processor"},"EPI-Signature":{"name":"EPI-Signature","in":"header","required":true,"schema":{"type":"string","example":"0123456789ABCDEF"},"description":"HMAC of URL and payload"},"EPI-Trace":{"name":"EPI-Trace","in":"header","required":false,"schema":{"type":"string"},"description":"Unique value defined by the merchant to identify transactions. The value is not persisted with the transaction and is only good during the current request/response chain"},"Bric":{"name":"bric","in":"header","required":true,"schema":{"type":"string","example":"01234567890123456789"},"description":"Token auto-generated for each financial transaction"},"Content-Type":{"name":"Content-Type","in":"header","required":true,"schema":{"type":"string","example":"application/json"},"description":"Content type of message"},"EPI-Trace_2":{"name":"EPI-Trace","in":"header","required":false,"schema":{"type":"string"},"description":"Unique value defined by the merchant to identify transactions. The value is not persisted with the transaction and is only good during the current request/response chain"}}},"tags":[{"name":"voids & refunds"},{"name":"transactions & batches"}]}