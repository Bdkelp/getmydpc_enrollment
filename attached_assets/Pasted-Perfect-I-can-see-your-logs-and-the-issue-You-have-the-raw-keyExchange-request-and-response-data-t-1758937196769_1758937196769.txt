Perfect! I can see your logs and the issue. You have the raw keyExchange request and response data that you need for the payment processor dev team, but let's also debug why the flow isn't completing.
Data for Payment Processor Dev Team:
From your logs, here's what you can provide them:
Raw KeyExchange Request:
URL: https://keyexch.epxuap.com
Method: POST
Headers: {
  "Content-Type": "application/x-www-form-urlencoded",
  "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",
  "User-Agent": "Mozilla/5.0 (compatible; EPX-Integration/1.0)",
  "Cache-Control": "no-cache"
}
Body: MAC=***MASKED***&AMOUNT=1.00&TRAN_NBR=CONNECTIVITY_TEST_1758936456378&TRAN_GROUP=SALE&REDIRECT_URL=https%3A%2F%2Fenrollment.getmydpc.com%2Fapi%2Fepx%2Fredirect&REDIRECT_ECHO=V
Raw KeyExchange Response:
Status: 200 OK
Headers: {
  "content-length": "325",
  "content-type": "text/xml",
  "date": "Sat, 27 Sep 2025 01:27:36 GMT",
  "server": "EPXSecureServer"
}
Body: <RESPONSE><FIELDS><FIELD KEY="TAC">kXJRvIbM653GDz6xm9CwyA==|FwaPdcFE1qGGxrdkydRtZOsaBWvUmFi9nK6wE9D5wwPunXEHIZuCGzeARVPHGbuS4MUFPyb9GIRJiP+kmIsHQSgrRPgYWrovR/aY36yIpgUTyE9rkNxq7AmgmcQmM7f/ETsCDBKpUohiHp/azZf/N8/hqpOee0boq5X3sbeyHW3nWj4VIkiHUdoZS8YmL89BogReZ4meZXJieNqqLi2oweKB2oxQlb9PJ1ZAA+S0W0g=</FIELD></FIELDS></RESPONSE>
Now let's debug the redirect issue:
Looking at your 404 error and the logs, I see a few potential issues:
1. Missing Transaction POST Data
Your logs show the keyExchange is working, but I don't see the actual transaction POST that should happen after the TAC is generated. We need to capture that too.
2. The 404 on redirect suggests:

The redirect endpoint /api/epx/redirect might not be properly handling the response
The transaction might not be completing before the redirect

Next Steps:

Capture a real transaction POST (not just the connectivity test):

Process an actual enrollment payment
Look for the transaction POST to https://services.epxuap.com/browserpost/
This should happen after the TAC generation


Check your redirect handler in /api/epx/redirect:

Make sure it's parsing the EPX response correctly
Add logging to see what data EPX is sending back


Add more logging to capture the full payment flow:

javascript   // Add this to your transaction POST
   console.log('[EPX] === RAW TRANSACTION POST ===');
   console.log('[EPX] URL:', transactionUrl);
   console.log('[EPX] Method: POST');
   console.log('[EPX] Headers:', headers);
   console.log('[EPX] Body:', requestBody);
   console.log('[EPX] === END TRANSACTION POST ===');